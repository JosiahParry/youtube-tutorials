<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>youtube-tutorials - . . .</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body>

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">. . .</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="notes">
<p>you may have seen these before you may have an intuition of what they are but do you really know what they do and how they work?</p>
</div>
<section id="dots" class="level1">
<h1>“dots”</h1>
<div class="notes">
<p>those three little dots are, quite uncreatively, called dots. And they’re everywhere in R</p>
</div>
<section id="dplyrselect.data-..." class="level2">
<h2 class="anchored" data-anchor-id="dplyrselect.data-..."><code>dplyr::select(.data, ...)</code></h2>
<blockquote class="blockquote">
<p>One or more unquoted expressions separated by commas. Variable names can be used as if they were positions in the data frame, so expressions like x:y can be used to select a range of variables.</p>
</blockquote>
<div class="notes">
<p>there’s a really good chance you’ve used the select function from dplyr select uses dots—albeit a special kind called dynamic dots—to let you select many different columns with freedom</p>
</div>
</section>
<section id="dplyrmutate.data-..." class="level2">
<h2 class="anchored" data-anchor-id="dplyrmutate.data-..."><code>dplyr::mutate(.data, ...)</code></h2>
<blockquote class="blockquote">
<p>Name-value pairs. The name gives the name of the column in the output.</p>
</blockquote>
<div class="notes">
<p>dots are also used in the mutate function from dplyr to let you create any columns you’d like by passing in expressions to names</p>
</div>
</section>
<section id="paste..." class="level2">
<h2 class="anchored" data-anchor-id="paste..."><code>paste(...)</code></h2>
<blockquote class="blockquote">
<p>one or more R objects, to be converted to character vectors.</p>
</blockquote>
<div class="notes">
<p>the function paste from base R lets you pass in as many R objects as you would like to create nice character strings</p>
</div>
</section>
<section id="lapplyx-fun-..." class="level2">
<h2 class="anchored" data-anchor-id="lapplyx-fun-..."><code>lapply(x, FUN, ...)</code></h2>
<blockquote class="blockquote">
<p>optional arguments to FUN</p>
</blockquote>
</section>
</section>
<section id="what-is-...-actually-doing" class="level1">
<h1>what is <code>...</code> actually doing?</h1>
<div class="notes">
<p>so if dots do all these things what do they actually do?</p>
</div>
</section>
<section id="dots-pass-arguments" class="level1 page-columns page-full">
<h1>dots pass arguments</h1>
<div class="notes">
<p>everything that dots do can be distilled to passing arguments.</p>
<p>how we do this and in what contexts we do this can be varied to a fabulous degree</p>
</div>
<section id="primary-uses" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="primary-uses">2 primary uses</h2>
<ul>
<li>passing arguments from one function to another</li>
<li>with S3 methods</li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<p>https://adv-r.hadley.nz/functions.html#fun-dot-dot-dot</p>
</div></div><div class="notes">
<p>according to advanced R there are two primary uses of dots they are to pass arguments from one function to another and secondly, which we will not go over in this video, is the use of dots to allow different s3 methods to take different arguments (like the very very very many predict methods)</p>
</div>
</section>
</section>
<section id="pass-args-with-..." class="level1">
<h1>pass args with <code>...</code></h1>
<div class="notes">
<p>lets first look at how we can pass arguments direclty into another function using dots</p>
</div>
</section>
<section id="section" class="level1" data-auto-animate="true">
<h1 data-auto-animate="true"></h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>print_dots <span class="ot">&lt;-</span> <span class="cf">function</span>(...) {</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="notes">
<p>to use dots in a function you have to specify an argument with the dots</p>
</div>
</section>
<section id="section-1" class="level1" data-auto-animate="true">
<h1 data-auto-animate="true"></h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>print_dots <span class="ot">&lt;-</span> <span class="cf">function</span>(...) {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste</span>(...)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="notes">
<p>to pass the dots directly into another function you can include them as an argument.</p>
<p>R will match the arguments for us like magic.</p>
<p>here we paste together whatever we put in to the function</p>
</div>
</section>
<section id="section-2" class="level1" data-auto-animate="true">
<h1 data-auto-animate="true"></h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>print_dots <span class="ot">&lt;-</span> <span class="cf">function</span>(...) {</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste</span>(...)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print_dots</span>(<span class="st">"hello"</span>, <span class="st">"world"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "hello world"</code></pre>
</div>
</div>
<div class="notes">
<p>lacking creativity lets print hello world</p>
</div>
</section>
<section id="section-3" class="level1" data-auto-animate="true">
<h1 data-auto-animate="true"></h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print_dots</span>(<span class="st">"my favorite letter is"</span>, letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "my favorite letter is a" "my favorite letter is b"
 [3] "my favorite letter is c" "my favorite letter is d"
 [5] "my favorite letter is e" "my favorite letter is f"
 [7] "my favorite letter is g" "my favorite letter is h"
 [9] "my favorite letter is i" "my favorite letter is j"</code></pre>
</div>
</div>
</section>
<section id="a-real-example" class="level1">
<h1>a real example</h1>
<div class="notes">
<p>this way of using dots, when you get it, is super powerful it’s actually underpinning a majority of the functions in my package sfdep. lets take a look at one of them as an example</p>
</div>
</section>
<section id="section-4" class="level1">
<h1></h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>sfdep<span class="sc">::</span>local_g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>function(x, nb, wt, alternative = "two.sided", ...) {
  if (!is.null(attr(nb, "self.included"))) {
    cli::cli_alert_warning("attr `self.include` is `TRUE`. Reporting Gi*.")
  }
  listw &lt;- recreate_listw(nb, wt)
  res &lt;- spdep::localG(x, listw, alternative = alternative, ...)
  unclass(res)
}
&lt;bytecode: 0x111bcdd28&gt;
&lt;environment: namespace:sfdep&gt;</code></pre>
</div>
</div>
<div class="notes">
<p>here’es a helpful tip. if you remove the parens from a function it will print its definition this function takes 3 required arguments</p>
</div>
</section>
<section id="section-5" class="level1" data-auto-animate="true">
<h1 data-auto-animate="true"></h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="cf">function</span>(x, nb, wt, <span class="at">alternative =</span> <span class="st">"two.sided"</span>, ...) {</span>
<span id="cb9-2"><a href="#cb9-2"></a>  listw <span class="ot">&lt;-</span> <span class="fu">recreate_listw</span>(nb, wt)</span>
<span id="cb9-3"><a href="#cb9-3"></a>  res <span class="ot">&lt;-</span> spdep<span class="sc">::</span><span class="fu">localG</span>(x, listw, <span class="at">alternative =</span> alternative, ...)</span>
<span id="cb9-4"><a href="#cb9-4"></a>  <span class="fu">unclass</span>(res)</span>
<span id="cb9-5"><a href="#cb9-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="notes">
<p>Line 1: x, nb, wt, are required, alternative is set to a default value of two.sided and the dots as an argument.</p>
<p>the reason why dots in this case is so powerful is that it lets us take different objects, restructure them into the required format, then pass in arguments to another function</p>
<p>Line 2:</p>
<p>spdep uses a <code>listw</code> object which contains two lists. 1 for identifying neighbors and the 2nd to store the spatial weights for them.</p>
<p>In the line we turn our arguments nb and wt into an object called listw</p>
<p>Line 3:</p>
<p>then x and the new listw function are passed to localG if any other arguments are passed in via dots they are sent to spdep</p>
</div>
</section>
<section id="section-6" class="level1" data-auto-animate="true">
<h1 data-auto-animate="true"></h1>
<div class="cell">

</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>spdep<span class="sc">::</span><span class="fu">localG</span>(x, listw)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  0.68466144 -0.40605202  0.07383123  2.38196237  3.49570413 -0.75967568
 [7] -1.47075897 -0.80197945  0.63984614  3.68140093  2.71055652 -1.42476463
[13] -1.52840421 -1.18797787 -0.40025085 -0.94197599 -1.42699800 -1.27442420
[19]  0.95260051 -1.11613385 -0.87305053  1.53226882 -1.30140672 -0.48257276
[25] -0.99299807  1.19613531  3.43442369  3.00599480 -0.13401838 -0.62625063
[31]  0.10448258  1.96469389  1.24368535  1.24089584  0.63585914  0.59413290
[37] -0.11850431  0.01405564 -0.02251821 -1.39782829 -0.06004508  0.44914259
attr(,"cluster")
 [1] High High High High High Low  Low  Low  Low  High High Low  Low  Low  Low 
[16] Low  Low  Low  High Low  Low  Low  Low  Low  Low  High High High Low  Low 
[31] High Low  Low  High High Low  Low  Low  Low  High Low  Low 
Levels: Low High
attr(,"gstari")
[1] FALSE
attr(,"call")
spdep::localG(x = x, listw = listw)
attr(,"class")
[1] "localG"</code></pre>
</div>
</div>
<div class="notes">
<p>let’s try calling the function as it is with its default arugments using spdep directly</p>
</div>
</section>
<section id="section-7" class="level1" data-auto-animate="true">
<h1 data-auto-animate="true"></h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>sfdep<span class="sc">::</span><span class="fu">local_g</span>(x, nb, wt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  0.68466144 -0.40605202  0.07383123  2.38196237  3.49570413 -0.75967568
 [7] -1.47075897 -0.80197945  0.63984614  3.68140093  2.71055652 -1.42476463
[13] -1.52840421 -1.18797787 -0.40025085 -0.94197599 -1.42699800 -1.27442420
[19]  0.95260051 -1.11613385 -0.87305053  1.53226882 -1.30140672 -0.48257276
[25] -0.99299807  1.19613531  3.43442369  3.00599480 -0.13401838 -0.62625063
[31]  0.10448258  1.96469389  1.24368535  1.24089584  0.63585914  0.59413290
[37] -0.11850431  0.01405564 -0.02251821 -1.39782829 -0.06004508  0.44914259
attr(,"cluster")
 [1] High High High High High Low  Low  Low  Low  High High Low  Low  Low  Low 
[16] Low  Low  Low  High Low  Low  Low  Low  Low  Low  High High High Low  Low 
[31] High Low  Low  High High Low  Low  Low  Low  High Low  Low 
Levels: Low High
attr(,"gstari")
[1] FALSE
attr(,"call")
spdep::localG(x = x, listw = listw, alternative = alternative)</code></pre>
</div>
</div>
<div class="notes">
<p>compare this to the function that calls spdep but with different arguments. the results are identical</p>
</div>
</section>
<section id="section-8" class="level1">
<h1></h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">args</span>(spdep<span class="sc">::</span>localG)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>function (x, listw, zero.policy = NULL, spChk = NULL, return_internals = FALSE, 
    GeoDa = FALSE, alternative = "two.sided") 
NULL</code></pre>
</div>
</div>
<div class="notes">
<p>spdep::localG takes additional arguments that aren’t handled by sfdep directly we can try setting one of these arguments by dots</p>
</div>
</section>
<section id="section-9" class="level1" data-auto-animate="true">
<h1 data-auto-animate="true"></h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>sfdep<span class="sc">::</span><span class="fu">local_g</span>(x, nb, wt, <span class="at">return_internals =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="incremental">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code> [1]  0.68466144 -0.40605202  0.07383123  2.38196237  3.49570413 -0.75967568
 [7] -1.47075897 -0.80197945  0.63984614  3.68140093  2.71055652 -1.42476463
[13] -1.52840421 -1.18797787 -0.40025085 -0.94197599 -1.42699800 -1.27442420
[19]  0.95260051 -1.11613385 -0.87305053  1.53226882 -1.30140672 -0.48257276
[25] -0.99299807  1.19613531  3.43442369  3.00599480 -0.13401838 -0.62625063
[31]  0.10448258  1.96469389  1.24368535  1.24089584  0.63585914  0.59413290
[37] -0.11850431  0.01405564 -0.02251821 -1.39782829 -0.06004508  0.44914259
attr(,"internals")
              Gi      E(Gi)        V(Gi)       Z(Gi) Pr(z != E(Gi))
 [1,] 0.03410220 0.02439024 2.012155e-04  0.68466144   0.4935575875
 [2,] 0.02123678 0.02439024 6.031328e-05 -0.40605202   0.6847043809
 [3,] 0.02589994 0.02439024 4.181159e-04  0.07383123   0.9411446778
 [4,] 0.04301926 0.02439024 6.116597e-05  2.38196237   0.0172206570
 [5,] 0.06901709 0.02439024 1.629758e-04  3.49570413   0.0004728126
 [6,] 0.01581567 0.02439024 1.273997e-04 -0.75967568   0.4474484718
 [7,] 0.01428647 0.02439024 4.719369e-05 -1.47075897   0.1413563133
 [8,] 0.01886835 0.02439024 4.740770e-05 -0.80197945   0.4225648455
 [9,] 0.02930272 0.02439024 5.894531e-05  0.63984614   0.5222726301
[10,] 0.04686388 0.02439024 3.726665e-05  3.68140093   0.0002319559
[11,] 0.05558392 0.02439024 1.324391e-04  2.71055652   0.0067170399
[12,] 0.01060169 0.02439024 9.365938e-05 -1.42476463   0.1542252496
[13,] 0.01286235 0.02439024 5.688833e-05 -1.52840421   0.1264122108
[14,] 0.01283815 0.02439024 9.455934e-05 -1.18797787   0.2348421270
[15,] 0.01651766 0.02439024 3.868745e-04 -0.40025085   0.6889717664
[16,] 0.01642493 0.02439024 7.150328e-05 -0.94197599   0.3462049302
[17,] 0.01218072 0.02439024 7.320670e-05 -1.42699800   0.1535804724
[18,] 0.01203614 0.02439024 9.397114e-05 -1.27442420   0.2025131206
[19,] 0.03801004 0.02439024 2.044181e-04  0.95260051   0.3407925210
[20,] 0.01170106 0.02439024 1.292513e-04 -1.11613385   0.2643648453
[21,] 0.01452569 0.02439024 1.276662e-04 -0.87305053   0.3826355348
[22,] 0.03735296 0.02439024 7.156855e-05  1.53226882   0.1254561124
[23,] 0.01333262 0.02439024 7.219342e-05 -1.30140672   0.1931192740
[24,] 0.01771664 0.02439024 1.912473e-04 -0.48257276   0.6293991246
[25,] 0.01313099 0.02439024 1.285650e-04 -0.99299807   0.3207108935
[26,] 0.03220138 0.02439024 4.264500e-05  1.19613531   0.2316437614
[27,] 0.05423393 0.02439024 7.550872e-05  3.43442369   0.0005938152
[28,] 0.05030228 0.02439024 7.430649e-05  3.00599480   0.0026471353
[29,] 0.02308668 0.02439024 9.460981e-05 -0.13401838   0.8933880369
[30,] 0.01561661 0.02439024 1.962737e-04 -0.62625063   0.5311505602
[31,] 0.02513299 0.02439024 5.053475e-05  0.10448258   0.9167863921
[32,] 0.04314622 0.02439024 9.113587e-05  1.96469389   0.0494496780
[33,] 0.03833909 0.02439024 1.257928e-04  1.24368535   0.2136153893
[34,] 0.04203957 0.02439024 2.022951e-04  1.24089584   0.2146442303
[35,] 0.02933855 0.02439024 6.056084e-05  0.63585914   0.5248682387
[36,] 0.03105930 0.02439024 1.259972e-04  0.59413290   0.5524232308
[37,] 0.02348303 0.02439024 5.860676e-05 -0.11850431   0.9056680825
[38,] 0.02452575 0.02439024 9.294972e-05  0.01405564   0.9887855902
[39,] 0.02407140 0.02439024 2.004846e-04 -0.02251821   0.9820345879
[40,] 0.01226231 0.02439024 7.527763e-05 -1.39782829   0.1621646378
[41,] 0.02356882 0.02439024 1.871478e-04 -0.06004508   0.9521197274
[42,] 0.03326650 0.02439024 3.905635e-04  0.44914259   0.6533288014
attr(,"cluster")
 [1] High High High High High Low  Low  Low  Low  High High Low  Low  Low  Low 
[16] Low  Low  Low  High Low  Low  Low  Low  Low  Low  High High High Low  Low 
[31] High Low  Low  High High Low  Low  Low  Low  High Low  Low 
Levels: Low High
attr(,"gstari")
[1] FALSE
attr(,"call")
spdep::localG(x = x, listw = listw, return_internals = TRUE, 
    alternative = alternative)</code></pre>
</div>
</div>
<div class="notes">
<p>the localG function has an argument <code>return_internals</code> that additional data as an attribute. this isn’t a defined argument in sfdep::local_g but it can be accessed through dots</p>
<p>when the object is printed the difference is quite pronounced!</p>
</div>
</div>
</section>
<section id="section-10" class="level1">
<h1></h1>
<div class="notes">
<p>dots are useful when used by themselves with no special sauce. but its not the only way that they can be utilized. we can actually “capture” … them</p>
</div>
</section>
<section id="capture" class="level1">
<h1>capture</h1>
<div class="notes">
<p>by capture, i mean make them less ephemeral and “capturing” them into a data format the is familiar and useful like a list</p>
</div>
</section>
<section id="section-11" class="level1" data-auto-animate="true">
<h1 data-auto-animate="true"></h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>dots <span class="ot">&lt;-</span> <span class="cf">function</span>(...) {</span>
<span id="cb18-2"><a href="#cb18-2"></a>  <span class="fu">list</span>(...)</span>
<span id="cb18-3"><a href="#cb18-3"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="notes">
<p>capturing dots is actually quite simple. the <code>list()</code> function is acting like a pokeball. capturing and taming our wild arguments</p>
</div>
</section>
<section id="section-12" class="level1" data-auto-animate="true">
<h1 data-auto-animate="true"></h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>dots <span class="ot">&lt;-</span> <span class="cf">function</span>(...) {</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(...)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="fu">dots</span>(<span class="at">hello =</span> <span class="st">"world"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$hello
[1] "world"</code></pre>
</div>
</div>
<div class="notes">
<p>if we pass in the value “world” to an argument “hello” we receive a named list this is only true, though, if we use argument names if we don’t…</p>
</div>
</section>
<section id="section-13" class="level1" data-auto-animate="true">
<h1 data-auto-animate="true"></h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dots</span>(<span class="st">"hello"</span>, <span class="st">"world"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] "hello"

[[2]]
[1] "world"</code></pre>
</div>
</div>
<div class="notes">
<p>we are returned a list without names</p>
</div>
</section>
<section id="use-case" class="level1">
<h1>use case</h1>
<p>crafting data frames</p>
</section>
<section id="section-14" class="level1" data-auto-animate="true">
<h1 data-auto-animate="true"></h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>data_frame <span class="ot">&lt;-</span> <span class="cf">function</span>(...) {</span>
<span id="cb23-2"><a href="#cb23-2"></a>  dots <span class="ot">&lt;-</span> <span class="fu">list</span>(...)</span>
<span id="cb23-3"><a href="#cb23-3"></a>  <span class="fu">list2DF</span>(dots)</span>
<span id="cb23-4"><a href="#cb23-4"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="incremental">
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data_frame</span>(<span class="at">x =</span> <span class="dv">10</span>, <span class="at">y =</span> <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   x  y
1 10 20</code></pre>
</div>
</div>
<div class="notes">
<p>we can define a simple function that captures dots into a list that then passes that list to list2DF to create a data frame</p>
<p>. . .</p>
<p>we can use it to create a data frame with two columns x and y but what about unnamed arguments to dots? . . .</p>
<p>this works but it has unnamed columns. that’s bad behaviortw</p>
</div>
</div>
</section>
<section id="section-15" class="level1" data-auto-animate="true">
<h1 data-auto-animate="true"></h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>data_frame <span class="ot">&lt;-</span> <span class="cf">function</span>(...) {</span>
<span id="cb26-2"><a href="#cb26-2"></a>  dots <span class="ot">&lt;-</span> <span class="fu">list</span>(...)</span>
<span id="cb26-3"><a href="#cb26-3"></a>  dots_names <span class="ot">&lt;-</span> <span class="fu">names</span>(dots)</span>
<span id="cb26-4"><a href="#cb26-4"></a></span>
<span id="cb26-5"><a href="#cb26-5"></a>  <span class="fu">list2DF</span>(dots)</span>
<span id="cb26-6"><a href="#cb26-6"></a></span>
<span id="cb26-7"><a href="#cb26-7"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-16" class="level1" data-auto-animate="true">
<h1 data-auto-animate="true"></h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>data_frame <span class="ot">&lt;-</span> <span class="cf">function</span>(...) {</span>
<span id="cb27-2"><a href="#cb27-2"></a>  dots <span class="ot">&lt;-</span> <span class="fu">list</span>(...)</span>
<span id="cb27-3"><a href="#cb27-3"></a>  dots_names <span class="ot">&lt;-</span> <span class="fu">names</span>(dots)</span>
<span id="cb27-4"><a href="#cb27-4"></a></span>
<span id="cb27-5"><a href="#cb27-5"></a>  <span class="cf">if</span> (<span class="fu">is.null</span>(dots_names) <span class="sc">||</span> <span class="st">""</span> <span class="sc">%in%</span> dots_names) {</span>
<span id="cb27-6"><a href="#cb27-6"></a>    <span class="fu">stop</span>(<span class="st">"all arguments must be named"</span>)</span>
<span id="cb27-7"><a href="#cb27-7"></a>  }</span>
<span id="cb27-8"><a href="#cb27-8"></a></span>
<span id="cb27-9"><a href="#cb27-9"></a>  <span class="fu">list2DF</span>(dots)</span>
<span id="cb27-10"><a href="#cb27-10"></a></span>
<span id="cb27-11"><a href="#cb27-11"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-17" class="level1" data-auto-animate="true">
<h1 data-auto-animate="true"></h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data_frame</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in data_frame(1:10, letters[1:10]): all arguments must be named</code></pre>
</div>
</div>
<div class="incremental">
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data_frame</span>(<span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">alphabet =</span> letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   id alphabet
1   1        a
2   2        b
3   3        c
4   4        d
5   5        e
6   6        f
7   7        g
8   8        h
9   9        i
10 10        j</code></pre>
</div>
</div>
</div>
</section>
<section id="dots-helpers" class="level1">
<h1>dots helpers</h1>
<p>. . . rarely useful, but good to know!</p>
</section>
<section id="reference-by-position" class="level1">
<h1>reference by position</h1>
<div class="incremental">
<p>each argument as <code>..1</code>, <code>..2</code>, <code>..3</code>, <code>..n</code></p>
</div>
</section>
<section id="section-18" class="level1" data-auto-animate="true">
<h1 data-auto-animate="true"></h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>add2 <span class="ot">&lt;-</span> <span class="cf">function</span>(...) {</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  ..<span class="dv">1</span> <span class="sc">+</span> ..<span class="dv">2</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="incremental">
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">add2</span>(<span class="dv">3</span>, .<span class="dv">14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.14</code></pre>
</div>
</div>
</div>
</section>
<section id="length" class="level1">
<h1><code>...length()</code></h1>
<div class="incremental">
<p>how many arguments?</p>
</div>
</section>
<section id="section-19" class="level1">
<h1></h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>nargs <span class="ot">&lt;-</span> <span class="cf">function</span>(...) {</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">...length</span>()</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="incremental">
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nargs</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
</div>
</section>
<section id="arg-n" class="level1">
<h1>arg <code>n</code></h1>
<p><code>...elt(n)</code></p>
</section>
<section id="first-and-last-args" class="level1">
<h1>first and last args</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a>first_last <span class="ot">&lt;-</span> <span class="cf">function</span>(...) {</span>
<span id="cb38-2"><a href="#cb38-2"></a> arg1 <span class="ot">&lt;-</span> ..<span class="dv">1</span> </span>
<span id="cb38-3"><a href="#cb38-3"></a> n <span class="ot">&lt;-</span> <span class="fu">...length</span>()</span>
<span id="cb38-4"><a href="#cb38-4"></a> last_arg <span class="ot">&lt;-</span> <span class="fu">...elt</span>(n)</span>
<span id="cb38-5"><a href="#cb38-5"></a> </span>
<span id="cb38-6"><a href="#cb38-6"></a> <span class="fu">list</span>(arg1, last_arg)</span>
<span id="cb38-7"><a href="#cb38-7"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="incremental">
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">first_last</span>(<span class="st">"first argument"</span>, <span class="dv">2</span>, <span class="cn">NA</span>, <span class="cn">Inf</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] "first argument"

[[2]]
[1] Inf</code></pre>
</div>
</div>
</div>
</section>
<section id="warning" class="level1">
<h1>WARNING:</h1>
<div class="incremental">
<p>unused dots are “swallowed”</p>
</div>
</section>
<section id="section-20" class="level1">
<h1></h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">add2</span>(<span class="dv">3</span>, <span class="fl">0.14</span>, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.14</code></pre>
</div>
</div>
</section>
<section id="check-yer-dots" class="level1">
<h1>check yer dots</h1>
<p><code>r-lib/ellipsis</code>: Tools for Working with …</p>
</section>
<section id="section-21" class="level1">
<h1></h1>
<p><code>ellipsis::check_dots_used()</code></p>
<ul>
<li>error if any arguments passed to dots aren’t used</li>
</ul>
</section>
<section id="section-22" class="level1">
<h1></h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a>add2 <span class="ot">&lt;-</span> <span class="cf">function</span>(...) {</span>
<span id="cb43-2"><a href="#cb43-2"></a>  ellipsis<span class="sc">::</span><span class="fu">check_dots_used</span>()</span>
<span id="cb43-3"><a href="#cb43-3"></a> </span>
<span id="cb43-4"><a href="#cb43-4"></a>  ..<span class="dv">1</span> <span class="sc">+</span> ..<span class="dv">2</span></span>
<span id="cb43-5"><a href="#cb43-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-23" class="level1">
<h1></h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">add2</span>(<span class="dv">3</span>, <span class="fl">0.14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.14</code></pre>
</div>
</div>
<div class="incremental">
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">add2</span>(<span class="dv">3</span>, <span class="fl">0.14</span>, <span class="fl">0.0015</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in `add2()`:
! Arguments in `...` must be used.
✖ Problematic argument:
• ..1 = 0.0015
ℹ Did you misspell an argument name?</code></pre>
</div>
</div>
</div>
</section>
<section id="ellipsis-helpers" class="level1">
<h1><code>{ellipsis}</code> helpers</h1>
<ul>
<li><code>check_dots_empty()</code></li>
<li><code>check_dots_unnamed()</code></li>
</ul>
</section>
<section id="section-24" class="level1">
<h1></h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a>data_frame <span class="ot">&lt;-</span> <span class="cf">function</span>(...) {</span>
<span id="cb48-2"><a href="#cb48-2"></a>  dots <span class="ot">&lt;-</span> <span class="fu">list</span>(...)</span>
<span id="cb48-3"><a href="#cb48-3"></a>  ellipsis<span class="sc">::</span><span class="fu">check_dots_unnamed</span>()</span>
<span id="cb48-4"><a href="#cb48-4"></a>  </span>
<span id="cb48-5"><a href="#cb48-5"></a>  <span class="fu">list2DF</span>(dots)</span>
<span id="cb48-6"><a href="#cb48-6"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="incremental">
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data_frame</span>(<span class="at">y =</span> pi, <span class="fu">exp</span>(<span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in `data_frame()`:
! Arguments in `...` must be passed by position, not name.
✖ Problematic argument:
• y = pi</code></pre>
</div>
</div>
</div>
</section>
<section id="but-wait-theres-more" class="level1">
<h1>but wait, there’s more!</h1>
<div class="incremental">
<p>but that’s for a later time</p>
</div>
</section>
<section id="rlang-dynamic-dots" class="level1">
<h1><code>{rlang}</code> dynamic dots</h1>
<p>https://rlang.r-lib.org/reference/dyn-dots.html</p>
<section id="recap" class="level2">
<h2 class="anchored" data-anchor-id="recap">recap</h2>
<p>Dots can:</p>
<ul>
<li>pass arguments from one function to another</li>
<li>be collected using <code>list()</code></li>
<li>be sneaky and “swallow” arguments</li>
</ul>
<div class="incremental">
<p>You should check them with <code>{ellipsis}</code></p>
</div>
</section>
</section>
<section id="whats-next" class="level1">
<h1>what’s next?</h1>
</section>
<section id="thanks" class="level1">
<h1>thanks!</h1>


</section>

</main> <!-- /main -->

<script>
  // htmlwidgets need to know to resize themselves when slides are shown/hidden.
  // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
  // slide changes (different for each slide format).
  (function () {
    // dispatch for htmlwidgets
    function fireSlideEnter() {
      const event = window.document.createEvent("Event");
      event.initEvent("slideenter", true, true);
      window.document.dispatchEvent(event);
    }

    function fireSlideChanged(previousSlide, currentSlide) {
      fireSlideEnter();

      // dispatch for shiny
      if (window.jQuery) {
        if (previousSlide) {
          window.jQuery(previousSlide).trigger("hidden");
        }
        if (currentSlide) {
          window.jQuery(currentSlide).trigger("shown");
        }
      }
    }

    // hookup for slidy
    if (window.w3c_slidy) {
      window.w3c_slidy.add_observer(function (slide_num) {
        // slide_num starts at position 1
        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
      });
    }

  })();
</script>

<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>